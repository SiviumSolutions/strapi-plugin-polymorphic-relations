# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ npm —á–µ—Ä–µ–∑ GitHub Actions

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ npm Automation Token

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://www.npmjs.com/settings/maxnomad/tokens
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Generate New Token"**
3. –í–∏–±–µ—Ä—ñ—Ç—å **"Automation"** (—Ü–µ –≤–∞–∂–ª–∏–≤–æ! –í—ñ–Ω bypasses 2FA)
4. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω (–≤—ñ–Ω –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑!)

## –ö—Ä–æ–∫ 2: –î–æ–¥–∞—Ç–∏ —Ç–æ–∫–µ–Ω –¥–æ GitHub Secrets

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub: `https://github.com/sivium/strapi-plugin-polymorphic-relations`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å: **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New repository secret"**
4. Name: `NPM_TOKEN`
5. Value: –≤–∞—à automation token –∑ –∫—Ä–æ–∫—É 1
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add secret"**

## –ö—Ä–æ–∫ 3: –ó–∞–ø—É—à–∏—Ç–∏ –∫–æ–¥ –Ω–∞ GitHub

```bash
cd strapi-plugin-polymorphic-relation-v2

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ git (—è–∫—â–æ —â–µ –Ω–µ –∑—Ä–æ–±–∏–ª–∏)
git init
git add .
git commit -m "Initial release v1.0.0"

# –î–æ–¥–∞—Ç–∏ remote
git remote add origin https://github.com/sivium/strapi-plugin-polymorphic-relations.git

# –ó–∞–ø—É—à–∏—Ç–∏
git branch -M main
git push -u origin main
```

## –ö—Ä–æ–∫ 4: –°—Ç–≤–æ—Ä–∏—Ç–∏ release tag

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞ –∑–∞–ø—É—à–∏—Ç–∏ —Ç–µ–≥
git tag v1.0.0
git push origin v1.0.0
```

**–¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å GitHub Actions workflow —è–∫–∏–π:**

1. ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
2. ‚úÖ –ó—Ä–æ–±–∏—Ç—å build
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å verify
4. ‚úÖ –û–ø—É–±–ª—ñ–∫—É—î –Ω–∞ npm (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ NPM_TOKEN)
5. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç—å GitHub Release

## –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–µ–ø–ª–æ–π

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions** –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
2. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ç—É—Å workflow "Release"
3. –Ø–∫—â–æ –≤—Å–µ –∑–µ–ª–µ–Ω–µ ‚úÖ - –ø–∞–∫–µ—Ç –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ!
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: https://www.npmjs.com/package/@sivium/strapi-plugin-polymorphic-relations

## –î–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä–µ–ª—ñ–∑—ñ–≤:

```bash
# –û–Ω–æ–≤–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é
npm version patch  # 1.0.0 ‚Üí 1.0.1
# –∞–±–æ
npm version minor  # 1.0.0 ‚Üí 1.1.0
# –∞–±–æ
npm version major  # 1.0.0 ‚Üí 2.0.0

# –ó–∞–ø—É—à–∏—Ç–∏ –∑–º—ñ–Ω–∏ —Ç–∞ —Ç–µ–≥
git push --follow-tags
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—É–±–ª—ñ–∫—É—î –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é! üöÄ

## Troubleshooting

### ‚ùå "Access token expired or revoked" (401 Error)

**–ü—Ä–∏—á–∏–Ω–∞**: NPM_TOKEN –≤ GitHub Secrets –∑–∞—Å—Ç–∞—Ä—ñ–≤ –∞–±–æ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π.

**–†—ñ—à–µ–Ω–Ω—è**:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω**:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å: https://www.npmjs.com/settings/maxnomad/tokens
   - –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π —Ç–æ–∫–µ–Ω (—è–∫—â–æ —î)
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Generate New Token"** ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å **"Automation"**
   - –°–∫–æ–ø—ñ—é–π—Ç–µ –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω

2. **–û–Ω–æ–≤—ñ—Ç—å GitHub Secret**:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å: https://github.com/SiviumSolutions/strapi-plugin-polymorphic-relations/settings/secrets/actions
   - –ó–Ω–∞–π–¥—ñ—Ç—å `NPM_TOKEN` ‚Üí –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Update"**
   - –í—Å—Ç–∞–≤—Ç–µ –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω ‚Üí **"Update secret"**

3. **–ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é**:

   ```bash
   # –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π —Ç–µ–≥ –ª–æ–∫–∞–ª—å–Ω–æ —Ç–∞ –Ω–∞ GitHub
   git tag -d v1.0.1
   git push origin :refs/tags/v1.0.1

   # –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ç–µ–≥
   git tag v1.0.1
   git push origin v1.0.1
   ```

### ‚ùå "Not found" (404 Error)

**–ü—Ä–∏—á–∏–Ω–∞**: –¶–µ –ø–µ—Ä—à–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è scoped –ø–∞–∫–µ—Ç—É `@sivium/...`

**–†—ñ—à–µ–Ω–Ω—è**:

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∏ —á–ª–µ–Ω –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó `@sivium` –Ω–∞ npm
- Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `--access public`
- –Ø–∫—â–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ —ñ—Å–Ω—É—î, —Å—Ç–≤–æ—Ä—ñ—Ç—å —ó—ó: https://www.npmjs.com/org/create

### ‚ùå Permission denied (403 Error)

**–†—ñ—à–µ–Ω–Ω—è**:

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤–∞—à npm –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –ø—Ä–∞–≤–∞ –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –ø—ñ–¥ @sivium
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞ https://www.npmjs.com/settings/sivium/members
- Automation —Ç–æ–∫–µ–Ω –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é

### ‚ùå Build fails

**–†—ñ—à–µ–Ω–Ω—è**:

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ: `npm run build`
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏ workflow –≤ GitHub Actions
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

## –ë–µ–∑–ø–µ–∫–∞

- **–ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ** npm —Ç–æ–∫–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Automation** —Ç–æ–∫–µ–Ω–∏ –¥–ª—è CI/CD (–≤–æ–Ω–∏ bypasses 2FA)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ (–∫–æ–∂–Ω—ñ 3-6 –º—ñ—Å—è—Ü—ñ–≤)
- –¢–æ–∫–µ–Ω–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫–ª–∏–∫–∞—Ç–∏ –≤ –±—É–¥—å-—è–∫–∏–π —á–∞—Å –∑ npm settings
